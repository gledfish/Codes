<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>2D Normal Distribution Surface</title>
    <style>
        body { margin: 0; overflow: hidden; }
        #canvas-container { width: 100%; height: 100%; }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // 创建一个场景
        const scene = new THREE.Scene();

        // 创建一个透视相机
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;

        // 创建一个WebGL渲染器
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // 创建网格
        const gridSize = 100;
        const geometry = new THREE.PlaneGeometry(6, 6, gridSize, gridSize);
        geometry.rotateX(Math.PI * -0.5);

        // 计算二维正态分布的概率密度函数值
        const mu = { x: 0, y: 0 };
        const sigma = { x: 1, y: 1 };
        const normalDistribution = (x, y) => {
            return Math.exp(
                -0.5 * (
                    (x - mu.x) ** 2 / sigma.x +
                    (y - mu.y) ** 2 / sigma.y
                )
            );
        };

        for (let i = 0; i <= gridSize; i++) {
            for (let j = 0; j <= gridSize; j++) {
                const x = -3 + (i / gridSize) * 6;
                const y = -3 + (j / gridSize) * 6;
                const z = normalDistribution(x, y);
                geometry.vertices[i * (gridSize + 1) + j].z = z;
            }
        }

        // 创建材质
        const material = new THREE.MeshBasicMaterial({ color: 0x00ff00, wireframe: false });

        // 创建曲面网格
        const mesh = new THREE.Mesh(geometry, material);
        scene.add(mesh);

        // 渲染循环
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }

        animate();
    </script>
</body>
</html>
